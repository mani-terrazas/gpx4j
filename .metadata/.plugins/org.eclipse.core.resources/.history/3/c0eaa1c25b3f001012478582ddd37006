package org.casaca.gpx4j.core.util;

import java.io.File;
import java.io.FileInputStream;
import java.io.FileNotFoundException;
import java.io.IOException;
import java.util.Properties;

import org.apache.log4j.PropertyConfigurator;
import org.casaca.gpx4j.core.exception.GpxIOException;



public class Logger {

	private org.apache.log4j.Logger logger;
	
	protected Logger(String name) {
		this.logger = org.apache.log4j.Logger.getLogger(name);
	}
	
	@SuppressWarnings("unchecked")
	protected Logger(Class clazz){
		this.logger = org.apache.log4j.Logger.getLogger(clazz);
	}
	
	public static Logger getLogger(String name){
		Properties p = new Properties();
		try {
			p.load(Logger.class.getResourceAsStream("log4j.properties"));
			PropertyConfigurator.configure(p);
		} catch (IOException e) {
			
		}
		
		return new Logger(name);
	}
	
	public static Logger getLogger(String name, String propertiesFilePath) throws FileNotFoundException, GpxIOException{
		Properties p = new Properties();
		File file = new File(propertiesFilePath);
		if(!file.exists()) throw new FileNotFoundException("Properties file \""+propertiesFilePath+"\" not exists");
		p.load(new FileInputStream(file));
	}
	
	@SuppressWarnings("unchecked")
	public static Logger getLogger(Class clazz){
		Properties p = new Properties();
		try {
			p.load(Logger.class.getResourceAsStream("log4j.properties"));
			PropertyConfigurator.configure(p);
		} catch (IOException e) {
			
		}
		
		return new Logger(clazz);
	}
	
	public void info(String message){
		this.logger.info(message);
	}
	
	public void info(String message, Throwable t){
		this.logger.info(message, t);
	}
	
	public void debug(String message){
		this.logger.debug(message);
	}
	
	public void debug(String message, Throwable t){
		this.logger.debug(message, t);
	}
	
	public void warn(String message){
		this.logger.warn(message);
	}
	
	public void warn(String message, Throwable t){
		this.logger.warn(message, t);
	}
	
	public void error(String message){
		this.logger.error(message);
	}
	
	public void error(String message, Throwable t){
		this.logger.error(message, t);
	}
}